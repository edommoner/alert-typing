let alert_typing=function(){let effect=$("#alert-text-wrap").attr("data-effect"),glitch_flag=!1,glitch_flag2=!1;switch(effect){case"glitch":glitch_flag=!0;break;case"glitch2":glitch_flag2=!0}let variable_order_array=[];$.each($("#alert-message > span"),function(index,elm){let token=$(elm).attr("data-token"),tmp_ary=[],style=$(elm).attr("style");$.each($(elm).find(".animated-letter"),function(i,anime_elm){glitch_flag?tmp_ary.push($("<div>").append($(anime_elm).addClass("glitch").attr("data-text",$(anime_elm).text())).html()):tmp_ary.push($("<div>").append($(anime_elm).attr("style",style)).html())}),variable_order_array[token]=tmp_ary,$("#alert-message > span[data-token="+token+"]").empty().append("@@##"+token+"##@@")});let message_text,message_text_ary=$("#alert-message").text().split("@@");message_ary=[],$.each(message_text_ary,function(index,val){if(val.match(/##.*##/)){let token=val.replace(/#/g,"");message_ary=message_ary.concat(variable_order_array[token])}else glitch_flag?$.each(val.split(""),function(i,char){message_ary.push("<span class='glitch' data-text='"+char+"'>"+char+"</span>")}):message_ary=message_ary.concat(val.split(""))}),typing(message_ary,glitch_flag2)};async function typing(message_ary=[],glitch_flag2=!1){let count=0,delay=100,duration=$("#alert-text-wrap").attr("data-duration");console.log(duration);let data_text="";for(void 0!==duration&&duration.match(/^\d*$/)&&(delay=duration);;){let buf="";for(let index=0;index<count;index++)buf+=message_ary[index];if(!(count<message_ary.length)){$("#alert-message").html(buf);break}{let tmp="<span class='cursor'>"+message_ary[count]+"</span>";$("#alert-message").html(buf+tmp),count++}await sleep(delay)}glitch_flag2&&glitch2()}function glitch2(){$("#decoration-wrap").mgGlitch({destroy:!1,glitch:!0,scale:!1,blend:!0,blendModeType:"hue",glitch1TimeMin:200,glitch1TimeMax:400,glitch2TimeMin:100,glitch2TimeMax:200,glitch1Range:16,glitch2Range:16}),$("#decoration-text-area").mgGlitch({destroy:!1,glitch:!0,scale:!1,blend:!0,blendModeType:"hue",glitch1TimeMin:200,glitch1TimeMax:400,glitch2TimeMin:100,glitch2TimeMax:200,glitch1Range:16,glitch2Range:16,zIndexStart:8})}function sleep(time){return new Promise(function(resolve,reject){window.setTimeout(resolve,time)})}function getSurfaceText(selector){var elem=$(selector[0].outerHTML);return elem.children().empty(),elem.text()}