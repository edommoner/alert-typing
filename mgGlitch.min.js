!function($,window,document,undefined){"use strict";var pluginName="mgGlitch",defaults={destroy:!1,glitch:!0,scale:!0,blend:!0,blendModeType:"hue",glitch1TimeMin:600,glitch1TimeMax:900,glitch2TimeMin:10,glitch2TimeMax:115,glitch1Range:16,glitch2Range:40,zIndexStart:5};function Plugin(element,options){this.element=element,this.settings=$.extend({},defaults,options),this._defaults=defaults,this._name=pluginName,this.init()}$.extend(Plugin.prototype,{init:function(){this.glitch()},glitch:function(){var el=this.element,scale=this.settings.scale,glitch1TimeMin=this.settings.glitch1TimeMin,glitch1TimeMax=this.settings.glitch1TimeMax,glitch2TimeMin=this.settings.glitch2TimeMin,glitch2TimeMax=this.settings.glitch2TimeMax,glitch1Range=this.settings.glitch1Range,glitch2Range=this.settings.glitch2Range,zIndexStart=this.settings.zIndexStart;function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}if(!0===this.settings.destroy)($(el).siblings().hasClass("el-front-1")||$(el).siblings().hasClass("front-3")||$(el).siblings().hasClass("front-2"))&&$(el).siblings(".front-1, .front-2, .front-3").remove(),$(".back").removeClass("back");else if(!1===this.settings.destroy){var cloneEl,cloneEl,cloneEl;if((cloneEl=$(el).clone()).insertBefore(el).addClass("back").css({"z-index":zIndexStart}),!0===this.settings.blend)(cloneEl=$(el).clone()).insertAfter(el).addClass("front-3").css({"z-index":zIndexStart+3,"mix-blend-mode":this.settings.blendModeType}),blendElem();if(!0===this.settings.glitch)(cloneEl=$(el).clone()).insertAfter(el).addClass("front-2").css({"z-index":zIndexStart+2}),$(".back").next().addClass("front-1").css({"z-index":zIndexStart+1}),glitch1(),glitch2()}function glitch1(){var clipPos1=getRandomInt(10,1900),clipPos2=9999,clipPos3=getRandomInt(10,1300),clipPos4=0,leftValue=getRandomInt(-1*glitch1Range,glitch1Range),rightValue=getRandomInt(-1*glitch1Range,glitch1Range),randomTime=getRandomInt(glitch1TimeMin,glitch1TimeMax);$(el).css({clip:"rect("+clipPos1+"px, 9999px, "+clipPos3+"px,0px)",right:rightValue,left:leftValue}),setTimeout(glitch1,randomTime)}function glitch2(){var clipPos1=getRandomInt(10,1900),clipPos2=9999,clipPos3=getRandomInt(10,1300),clipPos4=0,leftValue=getRandomInt(-1*glitch2Range,glitch2Range),rightValue=getRandomInt(-1*glitch2Range,glitch2Range),randomTime=getRandomInt(glitch2TimeMin,glitch2TimeMax);if(!0===scale)var scaleValue=(Math.random()*(1.1-.9)+.9).toFixed(2);else if(!1===scale)var scaleValue=1;$(el).next().css({clip:"rect("+clipPos1+"px, 9999px, "+clipPos3+"px,0px)",left:leftValue,right:rightValue,"-webkit-transform":"scale("+scaleValue+")","-ms-transform":"scale("+scaleValue+")",transform:"scale("+scaleValue+")"}),setTimeout(glitch2,randomTime)}function blendElem(){var clipPos1=getRandomInt(10,1900),clipPos2=9999,clipPos3=getRandomInt(10,1300),clipPos4=0,leftValue=getRandomInt(-1*glitch2Range,glitch2Range),rightValue=getRandomInt(-1*glitch2Range,glitch2Range),randomTime=getRandomInt(glitch2TimeMin,glitch2TimeMax);if(!0===scale)var scaleValue=(Math.random()*(1.1-.9)+.9).toFixed(2);else if(!1===scale)var scaleValue=1;$(el).next().next().css({clip:"rect("+clipPos1+"px, 9999px, "+clipPos3+"px,0px)",left:leftValue,right:rightValue,"-webkit-transform":"scale("+scaleValue+")","-ms-transform":"scale("+scaleValue+")",transform:"scale("+scaleValue+")"}),setTimeout(blendElem,randomTime)}}}),$.fn[pluginName]=function(options){return this.each(function(){new Plugin(this,options)})}}(jQuery,window,document);